<ais-instantsearch [config]="{
    apiKey: 'be3cea14adbbe71cf02d833888d191ac',
    appId: 'G0RI7NNWIC',
    indexName: 'listings',
    routing: true
  }">
    <div class="row" style="margin-top:15px;">
        <div class="col-md-2">

        </div>
        <div class="col-md-8">
            <div class="card bg-light">
                <div class="card-body">
                    <ais-search-box
                        placeholder='Search by Anything You Looking For - Eg. Apartment in Umhlanga With a View'>
                    </ais-search-box>
                </div>
            </div>
        </div>
        <div class="col-md-2">

        </div>
    </div>
    <div class="row m-t-20">
        <div class="col-md-3">
            <div class="card bg-light-info">
                <div class="card-body">
                    <ais-clear-refinements [clearsQuery]="true"></ais-clear-refinements>
                </div>
            </div>

            <div class="card bg-light-info">
                <div class="card-body">
                    <h5>Price</h5>
                    <ais-numeric-menu attribute="price" operator="or" [items]="[
                          { name: 'All' },
                          { end: 499999, name: 'Less than R500k' },
                          { start: 500000, end: 999999, name: 'R500k - R1M' },
                          { start: 1000000, end: 1499999, name: 'R1m - R1,5m' },
                          { start: 1500000, end: 1999999, name: 'R1.5m - R2m' },
                          { start: 2000000, end: 2499999, name: 'R2m - R2.5m' },
                          { start: 2500000, end: 2999999, name: 'R2.5m - R3m' },
                          { start: 3000000, end: 3499999, name: 'R3m - R3.5m' },
                          { start: 3500000, name: 'Above R3m' }
                        ]">
                    </ais-numeric-menu>
                </div>
            </div>
            <div class="card bg-light-info">
                <div class="card-body">
                    <h5 class="m-b-15">Province</h5>
                    <ais-refinement-list attribute="province" operator="or" [limit]="10" [showMoreLimit]="15"
                        showMoreLabel="More" showLessLabel="Less" [searchable]="true">
                    </ais-refinement-list>
                </div>
            </div>
            <div class="card bg-light-info">
                <div class="card-body">
                    <h5>Cities</h5>
                    <ais-refinement-list attribute="city" operator="or" [limit]="20" [showMoreLimit]="21"
                        showMoreLabel="More" showLessLabel="Less" [searchable]="true">
                    </ais-refinement-list>
                </div>
            </div>
            <div class="card bg-light-info">
                <div class="card-body">
                    <h5 class="m-b-15">Suburbs</h5>
                    <ais-refinement-list attribute="suburb" operator="or" [limit]="10" [showMoreLimit]="15"
                        showMoreLabel="More" showLessLabel="Less" [searchable]="true">
                    </ais-refinement-list>
                </div>
            </div>


        </div>
        <div class="col-md-6">
            <ais-hits>
                <ng-template let-hits="hits">
                    <div *ngFor="let hit of hits">
                        <div class="card">
                            <img class="card-img-top img-fluid"
                                style="height: 350px; margin-bottom:25px;box-shadow: 0 5px 12px 0 rgba(0,0,0,0.2),0 5px 12px 0 rgba(0,0,0,0.19) !important;"
                                src="{{hit.cover}}" />
                            <div class="listing-body" style="padding:15px;">
                                <h2 style="color: #6abd46; margin-bottom: 10px;">R{{hit.price | number}}</h2>
                                <span class="font-weight-bold" style="color: #6abd46;">{{ hit.bedrooms }} Bedroom
                                    {{ hit.propertyType }}</span>
                                <div class="d-flex no-block align-items-center m-b-10 m-t-10">
                                    <i class="sl-icon-location-pin" style="color: #6abd46;margin-right: 8px;"></i> <span
                                        class="address">{{ hit.address }}</span>
                                </div>
                                <div class="card" style="border: 0px; margin-top:20px; margin-bottom: 30px;">
                                    <div class="d-flex align-items-center">
                                        <div class="m-r-10"><span style="color: #6abd46;">{{ hit.bedrooms }}</span>
                                        </div>
                                        <div> <img src="../../assets/images/bed-icon.jpg"
                                                style="height: 40px; margin-right: 10px;" /></div>
                                        <div class="m-r-10"><span style="color: #6abd46;">{{ hit.bathrooms }}</span>
                                        </div>
                                        <div> <img src="../../assets/images/bathroom-icon.jpg"
                                                style="height: 40px; margin-right: 10px" /></div>
                                        <div class="m-r-10"><span style="color: #6abd46;">{{ hit.garages }}</span></div>
                                        <div> <img src="../../assets/images/garages-icon.jpg"
                                                style="height: 40px; margin-right: 10px" /></div>
                                        <div *ngIf="hit.floor" class="m-r-10"><span style="color: #6abd46;">{{ hit.floor
                                                | number }}m²</span></div>
                                        <div *ngIf="hit.floor"> <img src="../../assets/images/floor.png"
                                                style="height: 40px; margin-right: 10px" /></div>

                                    </div>

                                </div>

                                <div [innerHTML]="hit.description"></div>
                                <div class="card bg-light-info" style="margin-top: 45px;">
                                    <div class="card-body">
                                        <h4 style="margin-left: 15px;" style="font-weight: bold;">Property Features</h4>
                                        <table class="table">
                                            <tr *ngIf='hit.bedrooms'>
                                                <th> Bedrooms</th>
                                                <th>{{ hit.bedrooms }} Bedrooms</th>
                                            </tr>
                                            <tr *ngIf='hit.flatlet'>
                                                <th> Flatlet</th>
                                                <th>{{ hit.flatlet }} Flatlet(s)</th>
                                            </tr>

                                            <tr *ngIf='hit.bathrooms'>
                                                <th> Bathrooms</th>
                                                <th>{{ hit.bathrooms }} Bathrooms</th>
                                            </tr>
                                            <tr *ngIf='hit.receptionRooms'>
                                                <th>Reception Rooms</th>
                                                <th>{{ hit.receptionRooms }} Reception Rooms</th>
                                            </tr>

                                            <tr *ngIf='hit.kitchens'>
                                                <th>Kitchens</th>
                                                <th>{{ hit.kitchens }} Kitchens</th>
                                            </tr>
                                            <tr *ngIf='hit.domesticRooms'>
                                                <th>Domestic Rooms</th>
                                                <th>{{ hit.domesticRooms }} Domestic Rooms</th>
                                            </tr>

                                            <tr *ngIf='hit.garages'>
                                                <th> Garages</th>
                                                <th>{{ hit.garages }} Garages</th>
                                            </tr>

                                            <tr *ngIf='hit.carPorts'>
                                                <th> Car Ports</th>
                                                <th>{{ hit.carPorts }} Car Ports</th>
                                            </tr>
                                            <tr *ngIf='hit.landSize'>
                                                <th> Land Size</th>
                                                <th>{{ hit.landSize }} Land Size</th>
                                            </tr>
                                            <tr *ngIf='hit.floorSize'>
                                                <th>Floor Size</th>
                                                <th>{{ hit.floorSize }} Floor Size</th>
                                            </tr>
                                            <tr *ngIf='hit.lounges'>
                                                <th>Lounges</th>
                                                <th>{{ hit.lounges }} Lounges</th>
                                            </tr>
                                            <tr *ngIf='hit.diningRooms'>
                                                <th>Dining Rooms</th>
                                                <th>{{ hit.diningRooms }} Dining Rooms</th>
                                            </tr>
                                            <tr *ngIf='hit.studyRooms'>
                                                <th>Study Rooms</th>
                                                <th>{{ hit.studyRooms }} Study Rooms</th>
                                            </tr>
                                            <tr *ngIf='hit.pool'>
                                                <th>Pool</th>
                                                <th>{{ hit.pool }} pool</th>
                                            </tr>
                                            <tr *ngIf='hit.furnished'>
                                                <th>Furnished</th>
                                                <th>{{ hit.furnished }} Furnished</th>
                                            </tr>

                                            <tr *ngIf='hit.petsAllowed'>
                                                <th>Pets Allowed</th>
                                                <th>{{ hit.petsAllowed }} Pets Allowed</th>
                                            </tr>

                                            <tr *ngIf='hit.garden'>
                                                <th>Garden</th>
                                                <th>{{ hit.garden}} Garden</th>
                                            </tr>
                                            <tr *ngIf='hit.address1'>
                                                <th>Address1</th>
                                                <th>{{ hit.address1}} </th>
                                            </tr>
                                            <tr *ngIf='hit.address2'>
                                                <th>Address2</th>
                                                <th>{{ hit.address2}} </th>
                                            </tr>
                                            <tr *ngIf='hit.city'>
                                                <th>City</th>
                                                <th>{{ hit.city}} </th>
                                            </tr>
                                            <tr *ngIf='hit.state'>
                                                <th>State</th>
                                                <th>{{ hit.state}} </th>
                                            </tr>
                                            <tr *ngIf='hit.country'>
                                                <th>Country</th>
                                                <th>{{ hit.country}} </th>
                                            </tr>
                                            <tr *ngIf='hit.zip'>
                                                <th>Zip</th>
                                                <th>{{ hit.zip}} </th>
                                            </tr>
                                            <tr *ngIf='hit.streetNumber'>
                                                <th>Street Number</th>
                                                <th>{{ hit.streetNumber}} </th>
                                            </tr>
                                            <tr *ngIf='hit.streetName'>
                                                <th>Street Name</th>
                                                <th>{{ hit.streetName}} </th>
                                            </tr>
                                            <tr *ngIf='hit.province'>
                                                <th>Province</th>
                                                <th>{{ hit.province}} </th>
                                            </tr>
                                            <tr *ngIf='hit.views'>
                                                <th>Views</th>
                                                <th>{{ hit.views}} </th>
                                            </tr>
                                            <tr *ngIf='hit.landingPage'>
                                                <th>Landing Page</th>
                                                <th>{{ hit.landingPage}} </th>
                                            </tr>
                                            
                                        </table>
                                    </div>
                                </div>
                                <div class="card bg-light-info" style="margin-top: 45px;">
                                    <div class="card-body">
                                        <strong>Agent:</strong> {{ hit.agent }}<br />
                                        <strong>Partner:</strong> {{ hit.partner }}<br />
                                        <a href="{{ hit.webLink }}" target="_blank"
                                            style="text-decoration: underline;">Web Link</a>
                                    </div>
                                </div>
                                <!-- The text field -->
                                <div class="input-group mb-3">
                                    <div class="input-group-prepend"><label class="input-group-text"
                                            for="myInput">Listing Code:</label></div>
                                    <input class="form-control inputCode" type="text" value="{{hit.code}}" id="myInput">

                                    <div class="input-group-append"><button class="btn btn-primary copyButton"
                                            onclick="myFunction(this)">Copy Code</button></div>
                                </div>
                                <!-- The button used to copy the text -->

                            </div>
                        </div>
                    </div>
                </ng-template>
            </ais-hits>
            <ais-pagination showLast="true" showFirst="true"></ais-pagination>
        </div>
        <div class="col-md-3">
            <div class="card bg-light-info">
                <div class="card-body" style="margin-bottom: 25px;">

                    <h5 style="margin-bottom: 45px;">Bedrooms</h5>
                    <ais-range-slider attribute="bedrooms" [precision]="0" [pips]="false">
                    </ais-range-slider>
                    <hr />
                    <h5 style="margin-bottom: 45px;">Bathrooms</h5>
                    <ais-range-slider attribute="bathrooms" [precision]="0" [pips]="false">
                    </ais-range-slider>
                </div>
            </div>
            <div class="card bg-light-info">
                <div class="card-body">
                    <h5>Floor Space (m²)</h5>
                    <ais-range-input attribute="floor" [precision]="0" separator="→" currency="">
                    </ais-range-input>
                    <hr />
                    <h5>Land Size (m²)</h5>
                    <ais-range-input attribute="land" [precision]="0" separator="→" currency="">
                    </ais-range-input>
                </div>
            </div>

        </div>
    </div>
</ais-instantsearch>